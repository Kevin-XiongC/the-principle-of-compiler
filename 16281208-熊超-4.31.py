M = {
    '+':{'+':'>','*':'<','↑':'<','(':'<',')':'>','i':'<','#':'>'},
    '*':{'+':'>','*':'>','↑':'<','(':'<',')':'>','i':'<','#':'>'},
    '↑':{'+':'>','*':'>','↑':'<','(':'<',')':'>','i':'<','#':'>'},
    '(':{'+':'<','*':'<','↑':'<','(':'<',')':'=','i':'<','#':'?'},
    ')':{'+':'>','*':'>','↑':'>',')':'>','#':'>','(':'?','i':'?'},
    'i':{'+':'>','*':'>','↑':'>',')':'>','#':'>','(':'?','i':'?'},
    '#':{'+':'<','*':'<','↑':'<','(':'<','i':'<','#':'=',')':'?'}
}
Vt = ['+','*','↑','(',')','i','#']
f = dict.fromkeys(Vt,1)
g = dict.fromkeys(Vt,1)
print("  ",end="")
for i in Vt:
    print("%c  "%i,end="")
print("")
for i in Vt:
    print("%c "%i,end="")
    for j in Vt:
        print('%c  '%M[i][j],end='')
    print()
while True:
    ft = f.copy()
    gt = g.copy()
    for i in Vt:
        for j in Vt:
            if M[i][j] == '>' and f[i]<=g[j]:
                f[i] = g[j] + 1
            if M[i][j] == '<' and f[i]>=g[j]:
                g[j] = f[i] + 1
            if M[i][j] == '=' and f[i] != g[j]:
                f[i] = max(f[i],g[j])
                g[j] = f[i]
    if f == ft and gt == g:
        print("f",f)
        print('g:',g)
        break
    
    
